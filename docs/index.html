<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-12-23 Mon 13:58 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Certificaat</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Daniel Szmulewicz" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="css/et-book.css" type="text/css" media="screen" />
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="css/post.css" type="text/css" media="screen" />
<script type="text/javascript" src="js/navigation.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Certificaat
<br />
<span class="subtitle">Yet another ACME client</span>
</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgeeb4895">Definition</a></li>
<li><a href="#orgcc6088b">Motivation</a></li>
<li><a href="#orgbc77d35">Installation</a></li>
<li><a href="#orga945fa3">Usage</a></li>
<li><a href="#org57dd62c">Challenges</a></li>
<li><a href="#org0e9e908">Wildcard domains</a></li>
<li><a href="#orgc70a63a">Implementation</a></li>
<li><a href="#orgfc586b8">Contributions</a></li>
<li><a href="#org84f8ed7">Credits</a></li>
<li><a href="#org4052b0e">License</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgeeb4895" class="outline-2">
<h2 id="orgeeb4895">Definition</h2>
<div class="outline-text-2" id="text-orgeeb4895">
<p>
Certificaat is a general-purpose <a href="https://tools.ietf.org/html/draft-ietf-acme-acme-06">ACME</a> client, fully compatible with the <a href="https://letsencrypt.org/">Let’s Encrypt</a> certificate authority. 
</p>
</div>
</div>
<div id="outline-container-orgcc6088b" class="outline-2">
<h2 id="orgcc6088b">Motivation</h2>
<div class="outline-text-2" id="text-orgcc6088b">
<p>
If <a href="https://certbot.eff.org/">certbot</a> does everything for everybody, Certificaat is narrower in scope, focusing on usability and automated renewals.
</p>

<p>
Certificaat is optimized for a specific workflow: retrieve a certificate for your domain, and subsequently set up a cron job and forget about it.
</p>
</div>
</div>

<div id="outline-container-orgbc77d35" class="outline-2">
<h2 id="orgbc77d35">Installation</h2>
<div class="outline-text-2" id="text-orgbc77d35">
<p>
In your <code>deps.edn</code>, add an alias for <code>certificaat</code>.
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #008b8b;">:aliases</span> <span style="color: #707183;">{</span><span style="color: #008b8b;">:certificaat</span> <span style="color: #7388d6;">{</span><span style="color: #008b8b;">:extra-deps</span> <span style="color: #909183;">{</span><span style="color: #228b22;">org.danielsz</span>/certificaat <span style="color: #709870;">{</span><span style="color: #008b8b;">:</span><span style="color: #228b22;">mvn</span><span style="color: #000000; background-color: #ffffff;">/</span><span style="color: #008b8b;">version</span> <span style="color: #8b2252;">"2.x.x"</span><span style="color: #709870;">}</span><span style="color: #909183;">}</span>
                        <span style="color: #008b8b;">:extra-paths</span> <span style="color: #909183;">[</span><span style="color: #8b2252;">"resources"</span><span style="color: #909183;">]</span>
                        <span style="color: #008b8b;">:main-opts</span> <span style="color: #909183;">[</span><span style="color: #8b2252;">"-m"</span> <span style="color: #8b2252;">"certificaat.core"</span><span style="color: #909183;">]</span><span style="color: #7388d6;">}</span><span style="color: #707183;">}</span>
</pre>
</div>

<p>
You can now invoke it like this:
</p>

<div class="org-src-container">
<pre class="src src-sh">$ clj -A:certificaat
</pre>
</div>

<p>
It is recommended to create an executable file in your path for ease of use.
</p>

<div class="org-src-container">
<pre class="src src-sh">$ echo <span style="color: #8b2252;">'clj -A:certificaat  "$@"'</span> &gt; /usr/local/bin/certificaat
$ chmod u+x /usr/local/bin/certificaat
</pre>
</div>
</div>
</div>

<div id="outline-container-orga945fa3" class="outline-2">
<h2 id="orga945fa3">Usage</h2>
<div class="outline-text-2" id="text-orga945fa3">
</div>
<div id="outline-container-org11033cf" class="outline-3">
<h3 id="org11033cf">Overview</h3>
<div class="outline-text-3" id="text-org11033cf">
<p>
To get a certificate for a domain, follow these steps:
</p>

<p>
a. Run <code>certificaat -m change.me run</code>
</p>

<p>
<code>certificaat</code> will display instructions pertaining to the challenge. This is the time to satisfy the requirements (for example, configuring DNS records or preparing your web server). 
</p>

<p>
b. Review your settings in <code>config.edn</code>.
</p>

<p>
Make sure you can accept the challenge. With the <code>http01</code> challenge, you have the option to use the built-in server to respond to the requests, or you can instruct <code>certificaat</code> to put the authorization tokens in the right folder of your web server.
</p>

<p>
c. Run <code>certificaat -m change.me run</code>
</p>

<p>
When you are ready, simply repeat the operation and the challenges will be triggered and, if successfully completed, a certificate downloaded and saved to disk. 
</p>

<p>
From then on, the certificate can be renewed in one pass with <code>certificaat -m change.me run</code>.
</p>
</div>
</div>

<div id="outline-container-org258a0ac" class="outline-3">
<h3 id="org258a0ac">Command line options</h3>
<div class="outline-text-3" id="text-org258a0ac">
<div class="org-src-container">
<pre class="src src-shell">certificaat -m change.me run
</pre>
</div>

<p>
The <code>-m</code> option indicates the domain you want to authorize. It will feature in the Subject name of the final X.509 certificate.
</p>

<div class="org-src-container">
<pre class="src src-shell">certificaat -m change.me -n www.change.me run
</pre>
</div>

<p>
The <code>-n</code> option is for additional domain name you want to
authorize. It will feature in the Subject Alternative Name a(SAN) of
the certificate. Repeat this option for all required names. Caution:
there is a hard limit imposed by the CA.
</p>

<div class="org-src-container">
<pre class="src src-shell">certificaat -m example.com info
</pre>
</div>

<p>
Certificaat will display a summary of the certificate. 
</p>

<p>
Specifying the <code>-v</code> option will enable verbose logging, useful in debugging operations.
</p>

<p>
Type <code>certificaat -h</code> to familiarize yourself with the input it expects.
</p>
</div>
</div>
<div id="outline-container-orgdc347ca" class="outline-3">
<h3 id="orgdc347ca">Configuration</h3>
<div class="outline-text-3" id="text-orgdc347ca">
<p>
Certificaat is driven by its configuration files which are generated
with defaults that you can subsequently edit and customize.
</p>

<p>
Certificaat follows the <a href="https://specifications.freedesktop.org/basedir-spec/latest/">XDG Base Directory Specification</a>. The
configuration folder is determined by querying the value of
<code>XDG_CONFIG_HOME</code> in the environment, and if not set, will default to
<code>$HOME/.config/certificaat</code>.
</p>

<p>
Configuration files are in <a href="https://github.com/edn-format/edn">edn</a> format and can be edited in any text
editor. 
</p>

<p>
The global configuration is stored in the root directory,
<code>$HOME/.config/certificaat/config.edn</code> and it looks like
this:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">{</span><span style="color: #008b8b;">:key-size</span> 2048,
 <span style="color: #008b8b;">:key-type</span> <span style="color: #008b8b;">:rsa</span>,
 <span style="color: #008b8b;">:keypair-filename</span> <span style="color: #8b2252;">"account.key"</span><span style="color: #707183;">}</span>
</pre>
</div>

<p>
The local configuration file is stored in the per-domain directory,
<code>$HOME/.config/certificaat/change.me/config.edn</code> , and looks like
this:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">{</span><span style="color: #008b8b;">:acme-uri</span> <span style="color: #8b2252;">"acme://letsencrypt.org/staging"</span>,
 <span style="color: #008b8b;">:challenges</span> <span style="color: #8b2252;">"http-01"</span>,
 <span style="color: #008b8b;">:contact</span> <span style="color: #8b2252;">"mailto:admin@change.me"</span>,
 <span style="color: #008b8b;">:domain</span> <span style="color: #8b2252;">"change.me"</span>,
 <span style="color: #008b8b;">:organisation</span> <span style="color: #8b2252;">"ChangeMe corporation"</span>,
 <span style="color: #008b8b;">:san</span> #<span style="color: #7388d6;">{</span><span style="color: #8b2252;">"www.change.me"</span><span style="color: #7388d6;">}</span>
 <span style="color: #008b8b;">:plugins</span> <span style="color: #7388d6;">{</span><span style="color: #008b8b;">:diffie-hellman</span> <span style="color: #909183;">{</span><span style="color: #008b8b;">:enabled</span> <span style="color: #008b8b;">false</span>,
                            <span style="color: #008b8b;">:filename</span> <span style="color: #8b2252;">"dhparam.pem"</span>,
                            <span style="color: #008b8b;">:group14</span> <span style="color: #008b8b;">true</span>,
                            <span style="color: #008b8b;">:modulus</span> 2048<span style="color: #909183;">}</span>,
           <span style="color: #008b8b;">:copy-to-path</span> <span style="color: #909183;">{</span><span style="color: #008b8b;">:enabled</span> <span style="color: #008b8b;">true</span>
                          <span style="color: #008b8b;">:path</span> <span style="color: #8b2252;">"/tmp"</span><span style="color: #909183;">}</span>
           <span style="color: #008b8b;">:httpd</span> <span style="color: #909183;">{</span><span style="color: #008b8b;">:enabled</span> <span style="color: #008b8b;">true</span>
                   <span style="color: #008b8b;">:port</span> 3010<span style="color: #909183;">}</span>
           <span style="color: #008b8b;">:email</span> <span style="color: #909183;">{</span><span style="color: #008b8b;">:enabled</span> <span style="color: #008b8b;">false</span>,
                   <span style="color: #008b8b;">:sendmail</span> <span style="color: #008b8b;">false</span>,
                   <span style="color: #008b8b;">:smtp</span> <span style="color: #709870;">{</span><span style="color: #008b8b;">:host</span> <span style="color: #8b2252;">"smtp.changeme.org"</span>,
                          <span style="color: #008b8b;">:pass</span> <span style="color: #8b2252;">"changeme"</span>,
                          <span style="color: #008b8b;">:port</span> 587,
                          <span style="color: #008b8b;">:user</span> <span style="color: #8b2252;">"changeme"</span><span style="color: #709870;">}</span><span style="color: #909183;">}</span>,
           <span style="color: #008b8b;">:webroot</span> <span style="color: #909183;">{</span><span style="color: #008b8b;">:enabled</span> <span style="color: #008b8b;">false</span>, <span style="color: #008b8b;">:path</span> <span style="color: #8b2252;">"/var/www/"</span><span style="color: #909183;">}</span><span style="color: #7388d6;">}</span><span style="color: #707183;">}</span>
</pre>
</div>

<ul class="org-ul">
<li>the email address used by the CA to send expiry reminders.</li>
<li>the challenge you want to complete.</li>
<li>the URI to the ACME CA. By default, Certificaat will talk to Let’s Encrypt’s staging server. The resulting certificates will be fake. This is so you can practice until you are ready to issue a production certificate.</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Staging URI</td>
<td class="org-left">Production URI</td>
</tr>

<tr>
<td class="org-left">acme://letsencrypt.org/staging</td>
<td class="org-left">acme://letsencrypt.org</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org6a9c233" class="outline-3">
<h3 id="org6a9c233">Plugins</h3>
<div class="outline-text-3" id="text-org6a9c233">
<p>
Plugins are provided to perform additional functionality at key moments, namely before the challenges get triggered, or after a certificate has been acquired or renewed. The plugins need to be configured and enabled. 
</p>

<p>
The plugin configuration resides in the per-domain directory, <code>$HOME/.config/certificaat/change.me/config.edn</code>
</p>
</div>

<div id="outline-container-orga70ea57" class="outline-4">
<h4 id="orga70ea57">Copy to path</h4>
<div class="outline-text-4" id="text-orga70ea57">
<p>
This will copy the certificate to a folder of your liking. If disabled, the certificate will be found in <code>$HOME/.config/certificaat/change.me/</code>.
</p>
</div>
</div>
<div id="outline-container-org4024db7" class="outline-4">
<h4 id="org4024db7">Webroot</h4>
<div class="outline-text-4" id="text-org4024db7">
<p>
This plugin copies the authorization tokens to your web server www directory. 
</p>
</div>
</div>
<div id="outline-container-org4db70ef" class="outline-4">
<h4 id="org4db70ef">Email</h4>
<div class="outline-text-4" id="text-org4db70ef">
<p>
An email will be sent to the contact registered with the certificate after creating or renewing a certificate. 
</p>
</div>
</div>
<div id="outline-container-org05ede3e" class="outline-4">
<h4 id="org05ede3e">Diffie-Helman parameters</h4>
<div class="outline-text-4" id="text-org05ede3e">
<p>
This will save a Diffie-Helman parameters file along with the certificate, for further tuning the SSL setup.
</p>
</div>
</div>
<div id="outline-container-org6beca0e" class="outline-4">
<h4 id="org6beca0e">httpd</h4>
<div class="outline-text-4" id="text-org6beca0e">
<p>
When enabled, the built-in server will respond to the challenges. Letsencrypt directs its request to port 80 exclusively. The built-in server runs on then non-privileged ports so you will need to tunnel the requests from port 80 to the built-in server's port. This is easily achieved with:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo socat tcp-listen:80,reuseaddr,fork tcp:localhost:3010
</pre>
</div>

<p>
<code>httpd</code> and <code>webroot</code> are the plugins that enable you to acquire the certificate in a single pass. Thus amenable to integrate an automated workflow like a cron job. 
</p>

<div class="org-src-container">
<pre class="src src-shell">5 8 1 * * certificaat -m change.me run &amp;&amp; /usr/sbin/service nginx reload
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org57dd62c" class="outline-2">
<h2 id="org57dd62c">Challenges</h2>
<div class="outline-text-2" id="text-org57dd62c">
<p>
Certificaat will honor all challenges defined in the ACME specification.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Challenge</td>
<td class="org-left">Option identifier</td>
<td class="org-left">Let’s Encrypt</td>
<td class="org-left">Certificaat</td>
</tr>

<tr>
<td class="org-left">HTTP</td>
<td class="org-left">http-01</td>
<td class="org-left">✓</td>
<td class="org-left">✓</td>
</tr>

<tr>
<td class="org-left">DNS</td>
<td class="org-left">dns-01</td>
<td class="org-left">✓</td>
<td class="org-left">✓</td>
</tr>

<tr>
<td class="org-left">ALPN</td>
<td class="org-left">tls-alpn-01</td>
<td class="org-left">✓</td>
<td class="org-left">✓</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org0e9e908" class="outline-2">
<h2 id="org0e9e908">Wildcard domains</h2>
<div class="outline-text-2" id="text-org0e9e908">
<p>
Wildcard domains are supported with the "dns01" challenge only. (as per the protocol)
</p>
</div>
</div>
<div id="outline-container-orgc70a63a" class="outline-2">
<h2 id="orgc70a63a">Implementation</h2>
<div class="outline-text-2" id="text-orgc70a63a">
<p>
Certificaat is based on the ACME protocol, API version 2. 
</p>
</div>
</div>

<div id="outline-container-orgfc586b8" class="outline-2">
<h2 id="orgfc586b8">Contributions</h2>
<div class="outline-text-2" id="text-orgfc586b8">
<p>
If you plan to submit enhancements beyond bug fixes, please coordinate with me beforehand in order to save everybody’s time and effort.
</p>
</div>
</div>
<div id="outline-container-org84f8ed7" class="outline-2">
<h2 id="org84f8ed7">Credits</h2>
<div class="outline-text-2" id="text-org84f8ed7">
<p>
I wish to thank <a href="https://shredzone.org/maven/acme4j/">Richard Körber</a> who wrote the Java client for the ACME protocol, <a href="https://github.com/shred/acme4j">acme4j</a>, which serves as a foundation for Certificaat. Not only is it well written, it is also exquisitely <a href="https://shredzone.org/maven/acme4j/">documented</a>. 
</p>
</div>
</div>
<div id="outline-container-org4052b0e" class="outline-2">
<h2 id="org4052b0e">License</h2>
<div class="outline-text-2" id="text-org4052b0e">
<p>
Licensing terms will be revealed shortly. In the meantime, do what you want with it.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Daniel Szmulewicz</p>
<p class="date">Created: 2019-12-23 Mon 13:58</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
